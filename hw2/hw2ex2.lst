     1                                  bits 32 ; assembling for the 32 bits architecture
     2                                  
     3                                  ; declare the EntryPoint (a label defining the very first instruction of the program)
     4                                  global start        
     5                                  
     6                                  ; declare external functions needed by our program
     7                                  extern exit               ; tell nasm that exit exists even if we won't be defining it
     8                                  import exit msvcrt.dll    ; exit is a function that ends the calling process. It is defined in msvcrt.dll
     9                                                            ; msvcrt.dll contains exit, printf and all the other important C-runtime specific functions
    10                                  
    11                                  ; our data is declared here (the variables needed by our program)
    12                                  segment data use32 class=data
    13                                      ; ...
    14 00000000 00                          a db 0
    15 00000001 0A                          b db 10
    16 00000002 02                          d db 2
    17 00000003 04000000                    c dd 4
    18 00000007 0A00000000000000            x dq 10
    19                                      
    20                                      ;result should be 16
    21                                  
    22                                  ; our code starts here
    23                                  segment code use32 class=code
    24                                  ;(8-a*b*100+c)/d+x
    25                                      start:
    26 00000000 A0[02000000]                    mov AL, [d]
    27 00000005 6698                            cbw
    28 00000007 98                              cwde
    29 00000008 89C3                            mov EBX, EAX
    30                                          
    31 0000000A A0[00000000]                    mov AL, [a]
    32 0000000F 8A0D[01000000]                  mov CL, [b]
    33 00000015 F6E9                            imul CL
    34 00000017 66B96400                        mov CX, 100
    35 0000001B 66F7E9                          imul CX
    36                                          
    37 0000001E 6652                            push DX
    38 00000020 6650                            push AX
    39 00000022 58                              pop EAX
    40                                          
    41 00000023 B908000000                      mov ECX, 8
    42 00000028 29C1                            sub ECX, EAX
    43 0000002A 030D[03000000]                  add ECX, [c]
    44 00000030 89C8                            mov EAX, ECX
    45                                          
    46 00000032 99                              cdq
    47 00000033 F7FB                            idiv EBX
    48 00000035 99                              cdq
    49                                          
    50 00000036 8B1D[07000000]                  mov EBX, [x + 0]
    51 0000003C 8B0D[0B000000]                  mov ECX, [x + 4]
    52                                          
    53 00000042 01D8                            add EAX, EBX
    54 00000044 01CA                            add EDX, ECX
    55                                      
    56                                          ; exit(0)
    57 00000046 6A00                            push    dword 0      ; push the parameter for exit onto the stack
    58 00000048 FF15[00000000]                  call    [exit]       ; call exit to terminate the program
