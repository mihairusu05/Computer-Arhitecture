     1                                  bits 32
     2                                  global start
     3                                  extern exit
     4                                  import exit msvcrt.dll
     5                                  
     6                                  segment data use32 class=data
     7                                      ; Define the input string
     8 00000000 02040507                    A db 2, 4, 5, 7
     9                                      
    10                                      ; Calculate length constant
    11                                      lenA equ $ - A
    12                                      
    13                                      ; Reserve space for result B. 
    14                                      ; Logic: Length is lenA - 1. Type is Word (dw) to hold multiplication result.
    15 00000004 0000<rept>                  B times (lenA - 1) dw 0
    16                                  
    17                                  segment code use32 class=code
    18                                  start:
    19                                      ; --- Initialization ---
    20 00000000 B904000000                  mov ecx, lenA       ; Load length of A
    21 00000005 49                          dec ecx             ; We need N-1 iterations. 
    22 00000006 E325                        jecxz final         ; Safety check: If A had length 0 or 1, jump to end.
    23                                  
    24 00000008 BE00000000                  mov esi, 0          ; Source Index (for A)
    25 0000000D BF00000000                  mov edi, 0          ; Destination Index (for B)
    26                                  
    27                                      ; --- The Loop ---
    28                                  my_loop:
    29                                      ; Step 1: Get the first byte
    30 00000012 8A86[00000000]              mov al, [A + esi]
    31                                      
    32                                      ; Step 2: Get the second byte (neighbor)
    33 00000018 8A9E[01000000]              mov bl, [A + esi + 1] 
    34                                      
    35                                      ; Step 3: Multiply
    36                                      ; Syntax: mul source
    37                                      ; Behavior: AX = AL * source
    38 0000001E F6E3                        mul bl 
    39                                      
    40                                      ; Step 4: Store the result (which is in AX) into B
    41 00000020 668987[04000000]            mov [B + edi], ax
    42                                      
    43                                      ; Step 5: Update indexes
    44 00000027 46                          inc esi             ; A is bytes, so advance by 1
    45 00000028 83C702                      add edi, 2          ; B is words (2 bytes), so advance by 2
    46                                      
    47                                      ; Step 6: Loop control
    48 0000002B E2E5                        loop my_loop        ; Decrements ECX. If ECX != 0, go to my_loop
    49                                  
    50                                  final:
    51                                      ; Exit the program
    52 0000002D 6A00                        push dword 0
    53 0000002F FF15[00000000]              call [exit]
